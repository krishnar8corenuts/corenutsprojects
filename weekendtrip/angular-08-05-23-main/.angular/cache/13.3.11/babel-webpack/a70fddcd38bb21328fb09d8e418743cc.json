{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../model/weekend.repository\";\nimport * as i2 from \"@angular/material/button\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/slide-toggle\";\n\nfunction SettingsComponent_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"div\", 4)(3, \"div\", 5)(4, \"p\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(6, \"td\")(7, \"span\", 7);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\")(10, \"section\", 8)(11, \"mat-slide-toggle\", 9);\n    i0.ɵɵlistener(\"change\", function SettingsComponent_tr_14_Template_mat_slide_toggle_change_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const user_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.onToggleChange(user_r1.email);\n    });\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(user_r1.email);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r1.role);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"color\", ctx_r0.color)(\"checked\", user_r1.check)(\"disabled\", ctx_r0.disabled);\n  }\n}\n\nexport let SettingsComponent = /*#__PURE__*/(() => {\n  class SettingsComponent {\n    constructor(repo) {\n      this.repo = repo;\n      this.userList = [];\n      this.color = 'accent';\n      this.disabled = false;\n      console.log(\"settings\", this.repo.users);\n      this.userList = this.repo.users;\n      this.userList.forEach(e => {\n        if (e.role == 'user') {\n          e.check = false;\n          console.log(\"user\");\n        } else if (e.role == 'admin') {\n          e.check = true;\n          console.log(\"admin\");\n        } else {\n          console.log(\"else\");\n        }\n      });\n    }\n\n    get users() {\n      return this.userList;\n    }\n\n    onToggleChange(emailId) {\n      var _a;\n\n      console.log(\"toggle\", emailId);\n      this.repo.changeStatusOfUserAdmin(emailId);\n      console.log((_a = this.userList.find(e => e.email == emailId)) === null || _a === void 0 ? void 0 : _a.userId);\n    }\n\n    ngOnInit() {}\n\n  }\n\n  SettingsComponent.ɵfac = function SettingsComponent_Factory(t) {\n    return new (t || SettingsComponent)(i0.ɵɵdirectiveInject(i1.WeekendRepository));\n  };\n\n  SettingsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SettingsComponent,\n    selectors: [[\"admin-settings\"]],\n    decls: 15,\n    vars: 1,\n    consts: [[\"mat-button\", \"\", \"color\", \"primary\", \"onclick\", \"showusers()\"], [1, \"table\", \"align-middle\", \"mb-0\", \"bg-white\"], [1, \"bg-light\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"align-items-center\"], [1, \"ms-3\"], [1, \"text-muted\", \"mb-0\"], [1, \"badge\", \"badge-success\", \"rounded-pill\", \"d-inline\"], [1, \"example-section\"], [1, \"example-margin\", 3, \"color\", \"checked\", \"disabled\", \"change\"]],\n    template: function SettingsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"admin settings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"button\", 0);\n        i0.ɵɵtext(3, \"Primary\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"table\", 1)(5, \"thead\", 2)(6, \"tr\")(7, \"th\");\n        i0.ɵɵtext(8, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"th\");\n        i0.ɵɵtext(10, \"Role\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"th\");\n        i0.ɵɵtext(12, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"tbody\");\n        i0.ɵɵtemplate(14, SettingsComponent_tr_14_Template, 12, 5, \"tr\", 3);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      }\n    },\n    directives: [i2.MatButton, i3.NgForOf, i4.MatSlideToggle],\n    encapsulation: 2\n  });\n  return SettingsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}